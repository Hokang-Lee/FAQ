<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<meta name="robots" content="noindex">
<TITLE>FAQ19-44</TITLE>
<script language="JavaScript" src="/pull.js"></script>
<link rel=stylesheet type=text/css href=/font.css>
<style type="text/css">
	body {
		background-color: #ffffff;
		font-size: 12px;
		line-height:2.0em;
		margin: 10px;
		padding: 5px;
	}
</style>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7N0CMEK0LT"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-7N0CMEK0LT');
</script>
<!-- Google tag end -->
</HEAD>
<BODY TEXT="black">
<!-- ACCESS KAISEKIKEN  -->
<script src="//accaii.com/epost/script.js" async></script><noscript><img src="//accaii.com/epost/script?guid=on"></noscript>
<!-- ACCESS KAISEKIKEN end-->
<HR>
<FONT SIZE="4" COLOR="#000000"><b>incomingフォルダに格納するのはEPSTRSかEPSTDSか？ <font color="#ff0000">new!</font></b></FONT>
<HR>
<br>
E-Postシリーズで内部ドメイン宛てメールにて、SMTP受領にかかる時間に比べ、メールボックスにメールデータファイルが作成するまで時間がかかる状況が発生している場合、調べ方とEPSTRSサービスとEPSTDSサービスの役割分担について質問を受けたことがあります。<br>
・EPSTRS：SMTP受信（受領）を 一時作業フォルダの tempフォルダで行う。受領成功すると inlog（SMTP受信ログ）に記録される。データはメールキューである incomingフォルダに移動し格納。詳細記録は receivelog（SMTP受信詳細ログ）に記録される。<br>
・EPSTDS：配送段階を受け持つ。メールキューである incomingフォルダに格納されたメールデータファイルとエンベロープ情報のRCPファイルを元に該当メールアドレス宛てに配送、内部ドメインアカウント宛ての場合は該当メールボックスにメールデータを作成する。配送が成功すると外部ドメイン宛ては outlog（SMTP送信ログ）、内部ドメイン宛てはoutlocallog（SMTPローカル送信ログ）に記録される。詳細記録は senderlog（配送時の詳細ログ）に記録される。<br>
 つまり、標題の内容について言えばE-Postではメッセージファイルをincomingフォルダ（メールキュー）に格納するのはEPSTRS側の仕事になります。この後、incomingフォルダ（メールキュー）に格納されたファイルをEPSTDS側が配送処理を受け持ち、内部アカウントのメールボックスに格納する（着信させる）ところまで受け持ちます。<br>
<b>（参考FAQ）</b><br>
●<a href="./faq05-08.html">SMTPローカル送信ログ（outlocallog）について</a><br>
<p align="right"><input type="button" value="閉じる" onclick="window.close();"></p>
<br>
<br>
</body>
</html>
